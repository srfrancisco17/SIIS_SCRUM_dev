/*!
 * froala_editor v2.5.2 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2017 Froala Labs
 */

!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c)}:a(window.jQuery)}(function(a){a.extend(a.FE.DEFAULTS,{}),a.FE.URLRegEx="(.*)?(^| |\\u00A0)((https?:\\/\\/(www\\.)?)?(([-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*))|([\\d]{1,3}\\.[\\d]{1,3}\\.[\\d]{1,3}\\.[\\d]{1,3}([-a-zA-Z0-9@:%_\\+.~#?&//=]*))))$",a.FE.PLUGINS.url=function(b){function c(a,c,d,e){var f=e;return/^((http|https|ftp|ftps)\:\/\/)/i.test(f)||(f="//"+f),(c||"")+(d||"")+"<a"+(b.opts.linkAlwaysBlank?' target="_blank"':"")+(h?' rel="'+h+'"':"")+' href="'+f+'">'+e+"</a>"}function d(){return new RegExp(a.FE.URLRegEx,"gi")}function e(a){return b.opts.linkAlwaysNoFollow&&(h="nofollow"),b.opts.linkAlwaysBlank&&(h?h+=" noopener noreferrer":h="noopener noreferrer"),a.replace(d(),c)}function f(){var c=b.selection.ranges(0),f=c.startContainer;if(!f||f.nodeType!==Node.TEXT_NODE)return!1;if(d().test(f.textContent))a(f).before(e(f.textContent)),f.parentNode.removeChild(f);else if(f.previousSibling&&"A"===f.previousSibling.tagName){var g=f.previousSibling.innerText+f.textContent;d().test(g)&&(a(f.previousSibling).replaceWith(e(g)),f.parentNode.removeChild(f))}}function g(){b.events.on("paste.afterCleanup",function(b){if(new RegExp(a.FE.URLRegEx,"gi").test(b))return e(b)}),b.events.on("keydown",function(b){var c=b.which;c!=a.FE.KEYCODE.ENTER&&c!=a.FE.KEYCODE.SPACE&&c!=a.FE.KEYCODE.PERIOD||f()},!0),b.events.on("keydown",function(c){if(c.which==a.FE.KEYCODE.ENTER){var d=b.selection.element();if(("A"==d.tagName||a(d).parents("a").length)&&b.selection.info(d).atEnd)return c.stopImmediatePropagation(),"A"!==d.tagName&&(d=a(d).parents("a")[0]),a(d).after("&nbsp;"+a.FE.MARKERS),b.selection.restore(),!1}})}var h=null;return{_init:g}}});